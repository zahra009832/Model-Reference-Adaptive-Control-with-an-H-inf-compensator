clc
clear all
syms p1 p2 p3 q1 q2 q3
a=[0 1;-2 -4];
b=[0 ;-4];
c=[5 2.5];
p=[p1 p2;p2 p3];
t=a'*p+p*a+p*b*(1-10)*b'*p+c'*c+0.1*eye(2)
% P=solve('-4*y-32/3*y^2+28/3','x-4*y-2*z-32/3*y*z+25/6', '2*y-8*z-32/3*z^2+37/12')
p1=[0.9592 0.4038;0.4038 0.1969];
eig(p1)
k=(-5)*b'*p1
q=[q1 q2;q2 q3];
r=a*q+q*a'+eye(2)+b*b'+(1-1)*q*c'*c*q
% Q=solve('2*q2+1+(-75/4*q1-75/8*q2)*q1+(-75/8*q1-75/16*q2)*q2','-2*q1-4*q2+q3+(-75/4*q2-75/8*q3)*q1+(-75/8*q2-75/16*q3)*q2','-4*q2-8*q3+65+(-75/4*q2-75/8*q3)*q2+(-75/8*q2-75/16*q3)*q3')
% eig(q)
q1=[35.16 -.5;-.5 19.8];
L=q1*c'
a1=a+b*k-L*c
eig(a1)
[num,den]=ss2tf(a1,L,k,0);
h=tf(num,den)
